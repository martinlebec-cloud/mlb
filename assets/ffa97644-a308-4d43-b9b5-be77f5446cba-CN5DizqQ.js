import{_ as Z,c as j,o as x,m as X,r as ve,b as I,d as w,w as Bt,e as Y,f as K,g as q,h as Q,i as le,n as Se,j as ze,k as P,l as B,p as M,q as $,t as he,F as rt,s as $t,u as oe,v as me,x as jt,y as ot,z as de,A as On,B as xn,C as Tn,D as zn,E as Fn,G as Nt,H as Dn,I as qt,J as se,K as kn,L as En,M as Ln,N as Ut,O as R,T as An,P as Rn,Q as _t,R as Vn,a as ae}from"./main-XSnvmfYn.js";import{e as Pn,s as Mn}from"./wwSection-L7oEmrBs.js";const Bn={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},setup(e){const{getIcon:n}=wwLib.useIcons(),{hasLink:i,tag:t,properties:o}=wwLib.wwElement.useLink(),r=I(null),l=w(()=>e.wwElementState.props.icon||e.content.icon),u=w(()=>e.wwElementState.props.color||e.content.color),a=w(()=>`<svg xmlns="http://www.w3.org/2000/svg" width="800px" height="800px" fill="none" viewBox="0 0 24 24">
<path id="Vector" d="M14.4053 21H9.59375C9.10457 21 8.86006 20.9996 8.62988 20.9443C8.42581 20.8953 8.23099 20.815 8.05204 20.7053C7.85021 20.5817 7.67763 20.4091 7.33173 20.0632L3.9375 16.6689C3.59182 16.3233 3.41857 16.15 3.29492 15.9482C3.18526 15.7693 3.10425 15.5743 3.05526 15.3702C3 15.14 3 14.8945 3 14.4053V9.59375C3 9.10457 3 8.86006 3.05526 8.62988C3.10425 8.42581 3.18526 8.23098 3.29492 8.05204C3.41748 7.85205 3.58846 7.68107 3.92809 7.34144L3.9375 7.33173L7.33173 3.9375L7.3414 3.92813C7.68106 3.58847 7.85204 3.41748 8.05204 3.29492C8.23099 3.18526 8.42581 3.10425 8.62988 3.05526C8.86006 3 9.10457 3 9.59375 3H14.4053C14.8945 3 15.14 3 15.3702 3.05526C15.5743 3.10425 15.7693 3.18526 15.9482 3.29492C16.15 3.41857 16.3233 3.59181 16.6689 3.9375L20.0632 7.33173C20.409 7.67759 20.5817 7.85022 20.7053 8.05205C20.815 8.23099 20.8953 8.42581 20.9443 8.62988C20.9996 8.86006 21 9.10457 21 9.59375V14.4053M20.9996 14.4062C20.9996 14.8954 20.9996 15.14 20.9443 15.3702C20.8953 15.5743 20.815 15.7693 20.7053 15.9482C20.5817 16.1501 20.4091 16.323 20.0632 16.6689L16.6689 20.0632C16.323 20.4091 16.1501 20.5817 15.9482 20.7053C15.7693 20.815 15.5743 20.8953 15.3702 20.9443C15.14 20.9996 14.8954 20.9996 14.4062 20.9996" stroke="${u.value}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`);return Bt(async()=>{try{r.value=await n(l.value)}catch{r.value=null}}),{getIcon:n,iconText:r,hasLink:i,tag:t,properties:o,color:u,placeholder:a}},computed:{iconHTML(){return this.iconText||this.placeholder},style(){return{"--icon-color":this.color}}}};function $n(e,n,i,t,o,r){return x(),j(ve(t.hasLink?t.tag:"div"),X({innerHTML:r.iconHTML},t.properties,{style:r.style,class:["ww-icon",{"-link":t.hasLink}]}),null,16,["innerHTML","style","class"])}const jn=Z(Bn,[["render",$n],["__scopeId","data-v-ec5c837b"]]),Nn={inject:{componentStyle:{default:()=>{}}},props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content"],setup(){const{hasLink:e,tag:n,properties:i}=wwLib.wwElement.useLink();return{hasLink:e,linkTag:n,properties:i}},computed:{url(){const e=this.wwElementState.props.url||this.content.url||"";return typeof e=="string"?e:""},isWeWeb(){return this.url.startsWith("designs/")},src(){return this.isWeWeb?`${wwLib.wwUtils.getCdnPrefix()}${this.url}`:this.url},aspectRatio(){const e=this.componentStyle.aspectRatio;return e&&e!=="unset"?`${e}`:"unset"},style(){return{"--wwi-ar":this.aspectRatio,"--wwi-of":this.content.objectFit,"--wwi-f":this.content.filter,"--wwi-o":this.content.overlay}},isEditing(){return!1},alt(){return wwLib.wwLang.getText(this.content.alt)}}},qn=["src","alt"];function Un(e,n,i,t,o,r){return x(),j(ve(t.linkTag),X(t.properties,{class:["ww-image-basic",{"-link":t.hasLink&&!r.isEditing}],"ww-responsive":"ww-image-basic",style:r.style}),{default:Y(()=>[n[0]||(n[0]=K("div",{class:"ww-image-basic-overlay"},null,-1)),K("img",X({src:r.src,alt:r.alt},{loading:i.content.loading||"lazy"}),null,16,qn)]),_:1},16,["style","class"])}const Hn=Z(Nn,[["render",Un],["__scopeId","data-v-4c2104da"]]),Wn={center:"center",right:"flex-end",left:"flex-start",justify:"center"},Kn={props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content","update:content:effect","change-menu-visibility","change-borders-style","add-state","remove-state","trigger-event"],setup(e){const{hasLink:n,tag:i,properties:t}=wwLib.wwElement.useLink({isDisabled:w(()=>e.content.disabled)});return{hasLink:n,linkTag:i,properties:t}},data(){return{isReallyFocused:!1,isReallyActive:!1}},computed:{buttonStyle(){return{justifyContent:Wn[this.content["_ww-text_textAlign"]]||"center"}},isEditing(){return!1},tag(){return this.isEditing?"div":this.hasLink?this.linkTag:this.content.buttonType==="submit"||this.content.buttonType==="reset"||this.content.buttonType==="button"?"button":"div"},buttonType(){return this.isEditing||this.hasLink?"":this.content.buttonType==="submit"||this.content.buttonType==="reset"||this.content.buttonType==="button"?this.content.buttonType:""},text(){return this.wwElementState.props.text},isFocused(){return this.isReallyFocused},isActive(){return this.isReallyActive}},watch:{"content.disabled":{immediate:!0,handler(e){e?this.$emit("add-state","disabled"):this.$emit("remove-state","disabled")}},isReallyFocused(e,n){e&&!n?this.$emit("trigger-event",{name:"focus"}):!e&&n&&this.$emit("trigger-event",{name:"blur"})},isFocused:{immediate:!0,handler(e){e?this.$emit("add-state","focus"):this.$emit("remove-state","focus")}},isActive:{immediate:!0,handler(e){e?this.$emit("add-state","active"):this.$emit("remove-state","active")}}},methods:{onBlur(){this.isReallyFocused=!1},onActivate(e){this.isReallyActive=!0;const n=e.type;this.$emit("trigger-event",{name:n,event:e})},onDeactivate(e){this.isReallyActive=!1;const n=e.type;this.$emit("trigger-event",{name:n,event:e})},onTouchActivate(){this.isReallyActive=!0},onTouchDeactivate(){this.isReallyActive=!1},onMouseActivate(){this.isReallyActive=!0},onMouseDeactivate(){this.isReallyActive=!1},onKeyActivate(){this.isReallyActive=!0},onKeyDeactivate(){this.isReallyActive=!1},onKeyDown(e){this.$emit("trigger-event",{name:"keydown",event:e})},onKeyUp(e){this.$emit("trigger-event",{name:"keyup",event:e})}}};function Yn(e,n,i,t,o,r){const l=q("wwElement",!0),u=q("wwText");return x(),j(ve(r.tag),X({class:["ww-button",{button:r.tag,"-link":t.hasLink&&!r.isEditing,active:r.isActive}],type:r.buttonType,style:r.buttonStyle,"data-ww-flag":"btn-"+i.content.buttonType,disabled:i.content.disabled},t.properties,{onFocus:n[0]||(n[0]=a=>o.isReallyFocused=!0),onBlur:n[1]||(n[1]=a=>r.onBlur(a)),onMousedown:r.onMouseActivate,onMouseup:r.onMouseDeactivate,onMouseleave:r.onMouseDeactivate,onTouchstart:r.onTouchActivate,onTouchend:r.onTouchDeactivate,onTouchcancel:r.onTouchDeactivate,onKeydown:[ze(r.onKeyActivate,["enter"]),ze(r.onKeyActivate,["space"]),r.onKeyDown],onKeyup:[ze(r.onKeyDeactivate,["enter"]),ze(r.onKeyDeactivate,["space"]),r.onKeyUp]}),{default:Y(()=>[i.content.hasLeftIcon&&i.content.leftIcon?(x(),j(l,Se(X({key:0},i.content.leftIcon)),null,16)):Q("",!0),le(u,{tag:"span",text:r.text},null,8,["text"]),i.content.hasRightIcon&&i.content.rightIcon?(x(),j(l,Se(X({key:1},i.content.rightIcon)),null,16)):Q("",!0)]),_:1},16,["class","type","style","data-ww-flag","disabled","onMousedown","onMouseup","onMouseleave","onTouchstart","onTouchend","onTouchcancel","onKeydown","onKeyup"])}const Jn=Z(Kn,[["render",Yn],["__scopeId","data-v-cbcbcea4"]]),Gn='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-up"><path d="m18 15-6-6-6 6"/></svg>',Xn='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down"><path d="m6 9 6 6 6-6"/></svg>',Ct='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18M6 6l12 12"/></svg>',Qn={props:{content:{type:Object,required:!0}},emits:["remove-multiselect-value"],setup(e,{emit:n}){const{getIcon:i}=wwLib.useIcons(),t=P("_wwSelect:registerTriggerLocalContext"),o=P("_wwSelect:localContext"),r=w(()=>e.content.selectType==="single"),l=w(()=>wwLib.wwLang.getText(e.content.placeholder)),u=w(()=>{var O,E,D,L,A;return(A=(L=(D=(E=(O=o.value)==null?void 0:O.data)==null?void 0:E.select)==null?void 0:D.active)==null?void 0:L.details)==null?void 0:A.label}),a=w(()=>{var O,E,D,L,A,C,V,F,k,J;return!!((A=(L=(D=(E=(O=o.value)==null?void 0:O.data)==null?void 0:E.select)==null?void 0:D.active)==null?void 0:L.details)!=null&&A.label)||((J=(k=(F=(V=(C=o.value)==null?void 0:C.data)==null?void 0:V.select)==null?void 0:F.active)==null?void 0:k.details)==null?void 0:J.length)>0}),c=w(()=>{var O,E,D,L;return(L=(D=(E=(O=o.value)==null?void 0:O.data)==null?void 0:E.select)==null?void 0:D.utils)==null?void 0:L.isOpen}),s=I({placeholder:l});t({data:s,methods:{},markdown:"### Select Trigger local informations\n\n- `placeholder`: The placeholder text for the select trigger."});const m=w(()=>{const O=e.content.triggerBorder?{"border-top":e.content.triggerBorderTop,"border-right":e.content.triggerBorderRight,"border-bottom":e.content.triggerBorderBottom,"border-left":e.content.triggerBorderLeft}:{border:e.content.triggerBorderAll};return{padding:e.content.triggerPadding,margin:e.content.triggerMargin,"background-color":e.content.triggerBgColor,width:"100%",height:e.content.triggerHeight,"border-radius":e.content.triggerBorderRadius,"box-shadow":e.content.triggerShadows,cursor:"pointer",display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between",...O}}),y=w(()=>({width:e.content.triggerIconSize,color:e.content.triggerIconColor,display:"flex","align-items":"center","justify-content":"center","pointer-events":"none"})),T=w(()=>({"font-size":e.content.selectedFontSize,"font-family":e.content.selectedFontFamily,color:e.content.selectedFontColor,"font-weight":e.content.selectedFontWeight,"text-align":e.content.selectedTextAlign,width:"100%"})),p=w(()=>({"font-size":e.content.placeholderFontSize,"font-family":e.content.placeholderFontFamily,color:e.content.placeholderFontColor,"font-weight":e.content.placeholderFontWeight,"text-align":e.content.placeholderTextAlign,width:"100%"})),g=w(()=>{const O=e.content.chipBorder?{"border-top":e.content.chipBorderTop,"border-right":e.content.chipBorderRight,"border-bottom":e.content.chipBorderBottom,"border-left":e.content.chipBorderLeft}:{border:e.content.chipBorderAll};return{"font-size":e.content.chipFontSize,"font-family":e.content.chipFontFamily,color:e.content.chipFontColor,"font-weight":e.content.chipFontWeight,padding:e.content.chipPadding,"background-color":e.content.chipBgColor,"border-radius":e.content.chipBorderRadius,...O}}),v=I(null),h=I(null);B([c,()=>e.content.triggerIconOpen,()=>e.content.triggerIconClose],async()=>{const O=c.value?"triggerIconClose":"triggerIconOpen",E=c.value?Gn:Xn;e.content[O]?v.value=await i(e.content[O])||E:v.value=E},{immediate:!0}),B(()=>e.content.chipIconUnselect,async O=>{O?h.value=await i(O)||Ct:h.value=Ct},{immediate:!0});const S=w(()=>({width:e.content.chipIconSize,color:e.content.chipIconColor,display:"flex","align-items":"center","justify-content":"center","pointer-events":"none"}));return{isSingleSelect:r,data:s,selectedLabel:u,isOptionSelected:a,localContext:o,triggerStyle:m,triggerIconStyle:y,selectedValueStyle:T,placeholderStyle:p,chipIcon:v,chipStyle:g,chipIconStyle:S,chipIconUnselect:h,isOpen:c,handleChipClick:(O,E)=>{O.stopPropagation(),n("remove-multiselect-value",E)}}}},Zn={class:"ww-input-select__trigger"},ei=["innerHTML"],ti={key:0,class:"ww-input-select__chip_container"},ni=["onClick"],ii=["innerHTML"],ri=["innerHTML"];function oi(e,n,i,t,o,r){var l,u,a,c;return x(),M("div",Zn,[t.isSingleSelect?(x(),M("div",{key:0,style:$(t.triggerStyle)},[t.isOptionSelected?(x(),M("span",{key:0,style:$(t.selectedValueStyle)},he(t.selectedLabel),5)):(x(),M("span",{key:1,style:$(t.placeholderStyle)},he(t.data.placeholder),5)),K("div",{innerHTML:t.chipIcon,style:$(t.triggerIconStyle),"aria-hidden":"true"},null,12,ei)],4)):(x(),M("div",{key:1,style:$(t.triggerStyle)},[t.isOptionSelected?(x(),M("div",ti,[(x(!0),M(rt,null,$t((c=(a=(u=(l=t.localContext)==null?void 0:l.data)==null?void 0:u.select)==null?void 0:a.active)==null?void 0:c.details,s=>(x(),M("div",{class:"ww-input-select__chip",key:s.value,onClick:d=>t.handleChipClick(d,s.value),style:$(t.chipStyle)},[K("span",null,he(s.label),1),K("div",{innerHTML:t.chipIconUnselect,style:$(t.chipIconStyle),"aria-hidden":"true"},null,12,ii)],12,ni))),128))])):(x(),M("span",{key:1,style:$(t.placeholderStyle)},he(t.data.placeholder),5)),K("div",{innerHTML:t.chipIcon,style:$(t.triggerIconStyle),"aria-hidden":"true"},null,12,ri)],4))])}const si=Z(Qn,[["render",oi],["__scopeId","data-v-5e45f01d"]]);function ai({emit:e,optionElement:n,content:i}){const t=wwLib.wwUtils.getUid(),o=`ww-select-option-${i.value}-${t}`,r=P("_wwSelect:activeDescendant",I("")),l=P("_wwSelect:focusFromOptionId",()=>{});return B(r,()=>{r.value===o&&oe(()=>{n.value&&(n.value.focus(),n.value.scrollIntoView({block:"nearest",inline:"nearest"}))})}),{uid:t,optionId:o,focusFromOptionId:l}}function Qe(e,n){let i;return(...t)=>{clearTimeout(i),i=setTimeout(()=>e(...t),n)}}function It(e,n){return typeof n=="object"&&n!==null?e.findIndex(i=>typeof i!="object"||i===null?!1:JSON.stringify(i)===JSON.stringify(n)):e.indexOf(n)}function Ze(e,n){return typeof e=="object"&&e!==null&&typeof n=="object"&&n!==null?JSON.stringify(e)===JSON.stringify(n):e===n}const li='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check"><path d="M20 6 9 17l-5-5"/></svg>',ci={props:{content:{type:Object,required:!0},localData:{type:Object,default:()=>({})}},emits:["update:content","update:sidepanel-content","add-state","remove-state"],setup(e,{emit:n}){const i=w(()=>!1),{getIcon:t}=wwLib.useIcons(),{resolveMappingFormula:o}=wwLib.wwFormula.useFormula(),r=P("_wwSelect:registerOption",()=>{}),l=P("_wwSelect:unregisterOption",()=>{}),u=I(null),a=w(()=>{var ee,ie;return(ie=(ee=u.value)==null?void 0:ee.componentRef)==null?void 0:ie.$el}),c=P("_wwSelect:value",I("")),s=P("_wwSelect:type",I("simple"));P("_wwSelect:setValue",()=>{});const d=P("_wwSelect:isDisabled",I(!1)),m=P("_wwSelect:isReadonly",I(!1)),y=P("_wwSelect:updateValue",()=>{}),T=P("_wwSelect:removeSpecificValue",()=>{}),p=P("_wwSelect:focusSelectElement",()=>{}),g=P("_wwSelect:activeDescendant",I(null)),v=P("_wwSelect:isMouseDownOnOption",I(!1)),h=P("_wwSelect:mappingLabel",I(null)),S=P("_wwSelect:mappingValue",I(null)),b=P("_wwSelect:mappingDisabled",I(null)),O=w(()=>({padding:e.content.optionPadding,"background-color":e.content.optionBgColor,color:e.content.optionFontColor,"font-family":e.content.optionFontFamily,"font-size":e.content.optionFontSize,"font-weight":e.content.optionFontWeight,cursor:e.content.optionCursor,"border-radius":e.content.optionBorderRadius,border:e.content.optionBorder,"--ww-select-option-bg-color-hover":e.content.optionBgColorHover,"--ww-select-option-bg-color-focused":e.content.optionBgColorFocused})),E=I(null);Bt(async()=>{E.value=await t(e.content.optionIcon)||li});const D=w(()=>({width:e.content.optionIconSize,color:e.content.optionIconColor,display:"flex","align-items":"center","justify-content":"center","pointer-events":"none"})),L=w(()=>e.localData&&typeof e.localData=="object"&&"value"in e.localData&&"id"in e.localData&&Object.keys(e.localData).length===2?e.localData.value:typeof e.localData!="object"||e.localData===null?e.localData:o(me(h),e.localData)??e.content.label??e.localData),A=w(()=>e.localData&&typeof e.localData=="object"&&"value"in e.localData&&"id"in e.localData&&Object.keys(e.localData).length===2?e.localData.value:typeof e.localData!="object"||e.localData===null?e.localData:o(me(S),e.localData)??e.content.value??e.localData),C=w(()=>o(me(b),e.localData)),V=w(()=>k==g.value),F=w(()=>s.value==="single"?Ze(c.value,A.value):Array.isArray(c.value)&&c.value.some(ee=>Ze(ee,A.value))),{optionId:k,handleKeyDown:J,focusFromOptionId:ce}=ai({emit:n,optionElement:a,content:e.content}),U=w(()=>({optionId:k,label:L.value,value:A.value,disabled:C.value,isSelected:F.value,_data:e.localData}));l(k),r(k,jt(U));const G=w(()=>!i.value&&!C.value&&!d.value&&!m.value),we=()=>{F.value&&G.value&&e.content.unselectOnClick?(fe(),ce(null)):!F.value&&G.value&&e.content.selectOnClick&&(y(A.value),ce(k),p())},ne=ee=>{v.value=!0},_e=()=>{oe(()=>{v.value=!1})},Ce=()=>{v.value=!1},fe=()=>{G.value&&(s.value==="single"?y(null):T(A.value))},ge=I({isSelected:!1,isOptionDisabled:!1,label:"",value:"",_data:{}}),ye=()=>{G.value&&y(A.value)};B([F,C,L,A],([ee,ie,pe,je])=>{ge.value={isSelected:ee,isOptionDisabled:ie,label:pe,value:je,_data:e.localData}},{immediate:!0});const $e={select:{description:"Select the current option",method:ye,editor:{label:"Select",group:"Select Option",icon:"cursor-click"}}};return ot(()=>l(k)),{optionRef:u,optionId:k,handleClick:we,handleMouseDown:ne,handleMouseUp:_e,handleMouseLeave:Ce,handleKeyDown:J,isFocused:V,activeDescendant:g,option:U,optionStyles:O,optionIcon:E,optionIconStyle:D,contextMethods:$e,data:ge,contextMarkdown:"### Select Option local informations\n\n        // - `isSelected`: Boolean indicating if the option is selected\n        // - `isOptionDisabled`: Boolean indicating if the option is disabled\n        // - `label`: The label of the option (will be overwritten if defined in the Select root element)\n        // - `value`: The value of the option (will be overwritten if defined in the Select root element)",isOptionDisabled:C}}},ui=["id","aria-selected","aria-disabled"],di=["innerHTML"];function fi(e,n,i,t,o,r){return x(),M("div",{class:de(["ww-select-option",t.isFocused?"focused":"",t.isOptionDisabled?"disabled":""]),style:$(t.optionStyles),ref:"optionRef",onClick:n[0]||(n[0]=(...l)=>t.handleClick&&t.handleClick(...l)),onMousedown:n[1]||(n[1]=(...l)=>t.handleMouseDown&&t.handleMouseDown(...l)),onMouseup:n[2]||(n[2]=(...l)=>t.handleMouseUp&&t.handleMouseUp(...l)),onMouseleave:n[3]||(n[3]=(...l)=>t.handleMouseLeave&&t.handleMouseLeave(...l)),onKeydown:n[4]||(n[4]=(...l)=>t.handleKeyDown&&t.handleKeyDown(...l)),role:"option",id:t.optionId,"aria-selected":e.isSelected,"aria-disabled":t.isOptionDisabled},[K("span",null,he(t.data.label),1),t.data.isSelected?(x(),M("div",{key:0,innerHTML:t.optionIcon,style:$(t.optionIconStyle),"aria-hidden":"true"},null,12,di)):Q("",!0)],46,ui)}const Ht=Z(ci,[["render",fi],["__scopeId","data-v-ced39687"]]);function hi(){var e=window.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);var i=e.indexOf("Trident/");if(i>0){var t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}var o=e.indexOf("Edge/");return o>0?parseInt(e.substring(o+5,e.indexOf(".",o)),10):-1}let Pe;function et(){et.init||(et.init=!0,Pe=hi()!==-1)}var Be={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){et(),oe(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Pe&&this.$el.appendChild(e),e.data="about:blank",Pe||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Pe&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const mi=Tn();On("data-v-b329ee4c");const vi={class:"resize-observer",tabindex:"-1"};xn();const wi=mi((e,n,i,t,o,r)=>(x(),j("div",vi)));Be.render=wi;Be.__scopeId="data-v-b329ee4c";Be.__file="src/components/ResizeObserver.vue";function Me(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Me=function(n){return typeof n}:Me=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Me(e)}function gi(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function yi(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function pi(e,n,i){return n&&yi(e.prototype,n),e}function Ot(e){return bi(e)||Si(e)||_i(e)||Ci()}function bi(e){if(Array.isArray(e))return tt(e)}function Si(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _i(e,n){if(e){if(typeof e=="string")return tt(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return tt(e,n)}}function tt(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}function Ci(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ii(e){var n;return typeof e=="function"?n={callback:e}:n=e,n}function Oi(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t,o,r,l=function(a){for(var c=arguments.length,s=new Array(c>1?c-1:0),d=1;d<c;d++)s[d-1]=arguments[d];if(r=s,!(t&&a===o)){var m=i.leading;typeof m=="function"&&(m=m(a,o)),(!t||a!==o)&&m&&e.apply(void 0,[a].concat(Ot(r))),o=a,clearTimeout(t),t=setTimeout(function(){e.apply(void 0,[a].concat(Ot(r))),t=0},n)}};return l._clear=function(){clearTimeout(t),t=null},l}function Wt(e,n){if(e===n)return!0;if(Me(e)==="object"){for(var i in e)if(!Wt(e[i],n[i]))return!1;return!0}return!1}var xi=(function(){function e(n,i,t){gi(this,e),this.el=n,this.observer=null,this.frozen=!1,this.createObserver(i,t)}return pi(e,[{key:"createObserver",value:function(i,t){var o=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=Ii(i),this.callback=function(u,a){o.options.callback(u,a),u&&o.options.once&&(o.frozen=!0,o.destroyObserver())},this.callback&&this.options.throttle){var r=this.options.throttleOptions||{},l=r.leading;this.callback=Oi(this.callback,this.options.throttle,{leading:function(a){return l==="both"||l==="visible"&&a||l==="hidden"&&!a}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(u){var a=u[0];if(u.length>1){var c=u.find(function(d){return d.isIntersecting});c&&(a=c)}if(o.callback){var s=a.isIntersecting&&a.intersectionRatio>=o.threshold;if(s===o.oldResult)return;o.oldResult=s,o.callback(s,a)}},this.options.intersection),oe(function(){o.observer&&o.observer.observe(o.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e})();function Kt(e,n,i){var t=n.value;if(t)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var o=new xi(e,t,i);e._vue_visibilityState=o}}function Ti(e,n,i){var t=n.value,o=n.oldValue;if(!Wt(t,o)){var r=e._vue_visibilityState;if(!t){Yt(e);return}r?r.createObserver(t,i):Kt(e,{value:t},i)}}function Yt(e){var n=e._vue_visibilityState;n&&(n.destroyObserver(),delete e._vue_visibilityState)}var zi={beforeMount:Kt,updated:Ti,unmounted:Yt};function Fi(e){return{all:e=e||new Map,on:function(n,i){var t=e.get(n);t&&t.push(i)||e.set(n,[i])},off:function(n,i){var t=e.get(n);t&&t.splice(t.indexOf(i)>>>0,1)},emit:function(n,i){(e.get(n)||[]).slice().map(function(t){t(i)}),(e.get("*")||[]).slice().map(function(t){t(n,i)})}}}var Di={itemsLimit:1e3},ki=/(auto|scroll)/;function Jt(e,n){return e.parentNode===null?n:Jt(e.parentNode,n.concat([e]))}var Ke=function(n,i){return getComputedStyle(n,null).getPropertyValue(i)},Ei=function(n){return Ke(n,"overflow")+Ke(n,"overflow-y")+Ke(n,"overflow-x")},Li=function(n){return ki.test(Ei(n))};function xt(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=Jt(e.parentNode,[]),i=0;i<n.length;i+=1)if(Li(n[i]))return n[i];return document.scrollingElement||document.documentElement}}function nt(e){"@babel/helpers - typeof";return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nt(e)}var Gt={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(n){return["vertical","horizontal"].includes(n)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function Xt(){return this.items.length&&nt(this.items[0])!=="object"}var it=!1;if(typeof window<"u"){it=!1;try{var Ai=Object.defineProperty({},"passive",{get:function(){it=!0}});window.addEventListener("test",null,Ai)}catch{}}let Ri=0;var st={name:"RecycleScroller",components:{ResizeObserver:Be},directives:{ObserveVisibility:zi},props:{...Gt,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},n=this.items,i=this.sizeField,t=this.minItemSize;let o=1e4,r=0,l;for(let u=0,a=n.length;u<a;u++)l=n[u][i]||t,l<o&&(o=l),r+=l,e[u]={accumulator:r,size:l};return this.$_computedMinItemSize=o,e}return[]},simpleArray:Xt,itemIndexByKey(){const{keyField:e,items:n}=this,i={};for(let t=0,o=n.length;t<o;t++)i[n[t][e]]=t;return i}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,n,i,t,o){const r=Fn({id:Ri++,index:n,used:!0,key:t,type:o}),l=Nt({item:i,position:0,nr:r});return e.push(l),l},unuseView(e,n=!1){const i=this.$_unusedViews,t=e.nr.type;let o=i.get(t);o||(o=[],i.set(t,o)),o.push(e),n||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const n=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:i}=this.updateVisibleItems(!1,!0);i||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});n(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&n()},this.updateInterval))}},handleVisibilityChange(e,n){this.ready&&(e||n.boundingClientRect.width!==0||n.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,n=!1){const i=this.itemSize,t=this.gridItems||1,o=this.itemSecondarySize||i,r=this.$_computedMinItemSize,l=this.typeField,u=this.simpleArray?null:this.keyField,a=this.items,c=a.length,s=this.sizes,d=this.$_views,m=this.$_unusedViews,y=this.pool,T=this.itemIndexByKey;let p,g,v,h,S;if(!c)p=g=h=S=v=0;else if(this.$_prerender)p=h=0,g=S=Math.min(this.prerender,a.length),v=null;else{const C=this.getScroll();if(n){let k=C.start-this.$_lastUpdateScrollPosition;if(k<0&&(k=-k),i===null&&k<r||k<i)return{continuous:!0}}this.$_lastUpdateScrollPosition=C.start;const V=this.buffer;C.start-=V,C.end+=V;let F=0;if(this.$refs.before&&(F=this.$refs.before.scrollHeight,C.start-=F),this.$refs.after){const k=this.$refs.after.scrollHeight;C.end+=k}if(i===null){let k,J=0,ce=c-1,U=~~(c/2),G;do G=U,k=s[U].accumulator,k<C.start?J=U:U<c-1&&s[U+1].accumulator>C.start&&(ce=U),U=~~((J+ce)/2);while(U!==G);for(U<0&&(U=0),p=U,v=s[c-1].accumulator,g=U;g<c&&s[g].accumulator<C.end;g++);for(g===-1?g=a.length-1:(g++,g>c&&(g=c)),h=p;h<c&&F+s[h].accumulator<C.start;h++);for(S=h;S<c&&F+s[S].accumulator<C.end;S++);}else{p=~~(C.start/i*t);const k=p%t;p-=k,g=Math.ceil(C.end/i*t),h=Math.max(0,Math.floor((C.start-F)/i*t)),S=Math.floor((C.end-F)/i*t),p<0&&(p=0),g>c&&(g=c),h<0&&(h=0),S>c&&(S=c),v=Math.ceil(c/t)*i}}g-p>Di.itemsLimit&&this.itemsLimitError(),this.totalSize=v;let b;const O=p<=this.$_endIndex&&g>=this.$_startIndex;if(O)for(let C=0,V=y.length;C<V;C++)b=y[C],b.nr.used&&(e&&(b.nr.index=T[b.item[u]]),(b.nr.index==null||b.nr.index<p||b.nr.index>=g)&&this.unuseView(b));const E=O?null:new Map;let D,L,A;for(let C=p;C<g;C++){D=a[C];const V=u?D[u]:D;if(V==null)throw new Error(`Key is ${V} on item (keyField is '${u}')`);if(b=d.get(V),!i&&!s[C].size){b&&this.unuseView(b);continue}L=D[l];let F=m.get(L),k=!1;if(!b)O?F&&F.length?b=F.pop():b=this.addView(y,C,D,V,L):(A=E.get(L)||0,(!F||A>=F.length)&&(b=this.addView(y,C,D,V,L),this.unuseView(b,!0),F=m.get(L)),b=F[A],E.set(L,A+1)),d.delete(b.nr.key),b.nr.used=!0,b.nr.index=C,b.nr.key=V,b.nr.type=L,d.set(V,b),k=!0;else if(!b.nr.used&&(b.nr.used=!0,k=!0,F)){const J=F.indexOf(b);J!==-1&&F.splice(J,1)}b.item=D,k&&(C===a.length-1&&this.$emit("scroll-end"),C===0&&this.$emit("scroll-start")),i===null?(b.position=s[C-1].accumulator,b.offset=0):(b.position=Math.floor(C/t)*i,b.offset=C%t*o)}return this.$_startIndex=p,this.$_endIndex=g,this.emitUpdate&&this.$emit("update",p,g,h,S),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:O}},getListenerTarget(){let e=xt(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:n}=this,i=n==="vertical";let t;if(this.pageMode){const o=e.getBoundingClientRect(),r=i?o.height:o.width;let l=-(i?o.top:o.left),u=i?window.innerHeight:window.innerWidth;l<0&&(u+=l,l=0),l+u>r&&(u=r-l),t={start:l,end:l+u}}else i?t={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:t={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return t},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,it?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let n;const i=this.gridItems||1;this.itemSize===null?n=e>0?this.sizes[e-1].accumulator:0:n=Math.floor(e/i)*this.itemSize,this.scrollToPosition(n)},scrollToPosition(e){const n=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let i,t,o;if(this.pageMode){const r=xt(this.$el),l=r.tagName==="HTML"?0:r[n.scroll],u=r.getBoundingClientRect(),c=this.$el.getBoundingClientRect()[n.start]-u[n.start];i=r,t=n.scroll,o=e+l+c}else i=this.$el,t=n.scroll,o=e;i[t]=o},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,n)=>e.nr.index-n.nr.index)}}};const Vi={key:0,ref:"before",class:"vue-recycle-scroller__slot"},Pi={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function Mi(e,n,i,t,o,r){const l=q("ResizeObserver"),u=Dn("observe-visibility");return qt((x(),M("div",{class:de(["vue-recycle-scroller",{ready:o.ready,"page-mode":i.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:n[0]||(n[0]=(...a)=>r.handleScroll&&r.handleScroll(...a))},[e.$slots.before?(x(),M("div",Vi,[se(e.$slots,"before")],512)):Q("v-if",!0),(x(),j(ve(i.listTag),{ref:"wrapper",style:$({[e.direction==="vertical"?"minHeight":"minWidth"]:o.totalSize+"px"}),class:de(["vue-recycle-scroller__item-wrapper",i.listClass])},{default:Y(()=>[(x(!0),M(rt,null,$t(o.pool,a=>(x(),j(ve(i.itemTag),X({key:a.nr.id,style:o.ready?{transform:`translate${e.direction==="vertical"?"Y":"X"}(${a.position}px) translate${e.direction==="vertical"?"X":"Y"}(${a.offset}px)`,width:i.gridItems?`${e.direction==="vertical"&&i.itemSecondarySize||i.itemSize}px`:void 0,height:i.gridItems?`${e.direction==="horizontal"&&i.itemSecondarySize||i.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[i.itemClass,{hover:!i.skipHover&&o.hoverKey===a.nr.key}]]},kn(i.skipHover?{}:{mouseenter:()=>{o.hoverKey=a.nr.key},mouseleave:()=>{o.hoverKey=null}})),{default:Y(()=>[se(e.$slots,"default",{item:a.item,index:a.nr.index,active:a.nr.used})]),_:2},1040,["style","class"]))),128)),se(e.$slots,"empty")]),_:3},8,["style","class"])),e.$slots.after?(x(),M("div",Pi,[se(e.$slots,"after")],512)):Q("v-if",!0),le(l,{onNotify:r.handleResize},null,8,["onNotify"])],34)),[[u,r.handleVisibilityChange]])}st.render=Mi;st.__file="src/components/RecycleScroller.vue";var at={name:"DynamicScroller",components:{RecycleScroller:st},provide(){return typeof ResizeObserver<"u"&&(this.$_resizeObserver=new ResizeObserver(e=>{requestAnimationFrame(()=>{if(Array.isArray(e)){for(const n of e)if(n.target&&n.target.$_vs_onResize){let i,t;if(n.borderBoxSize){const o=n.borderBoxSize[0];i=o.inlineSize,t=o.blockSize}else i=n.contentRect.width,t=n.contentRect.height;n.target.$_vs_onResize(n.target.$_vs_id,i,t)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...Gt,minItemSize:{type:[Number,String],required:!0}},emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:Xt,itemsWithSize(){const e=[],{items:n,keyField:i,simpleArray:t}=this,o=this.vscrollData.sizes,r=n.length;for(let l=0;l<r;l++){const u=n[l],a=t?l:u[i];let c=o[a];typeof c>"u"&&!this.$_undefinedMap[a]&&(c=0),e.push({item:u,id:a,size:c})}return e}},watch:{items(){this.forceUpdate()},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,n){const i=this.$el.scrollTop;let t=0,o=0;const r=Math.min(e.length,n.length);for(let u=0;u<r&&!(t>=i);u++)t+=n[u].size||this.minItemSize,o+=e[u].size||this.minItemSize;const l=o-t;l!==0&&(this.$el.scrollTop+=l)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events=Fi()},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!1){(e||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(e){const n=this.$refs.scroller;n&&n.scrollToItem(e)},getItemSize(e,n=void 0){const i=this.simpleArray?n??this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[i]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick(()=>{e.scrollTop=e.scrollHeight+5e3;const n=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(n)})};requestAnimationFrame(n)})}}};function Bi(e,n,i,t,o,r){const l=q("RecycleScroller");return x(),j(l,X({ref:"scroller",items:r.itemsWithSize,"min-item-size":i.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},e.$attrs,{onResize:r.onScrollerResize,onVisible:r.onScrollerVisible}),{default:Y(({item:u,index:a,active:c})=>[se(e.$slots,"default",Se(En({item:u.item,index:a,active:c,itemWithSize:u})))]),before:Y(()=>[se(e.$slots,"before")]),after:Y(()=>[se(e.$slots,"after")]),empty:Y(()=>[se(e.$slots,"empty")]),_:3},16,["items","min-item-size","direction","list-tag","item-tag","onResize","onVisible"])}at.render=Bi;at.__file="src/components/DynamicScroller.vue";var Qt={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(e,n){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){const i=this.vscrollData.sizes[n],t=this.vscrollData.sizes[e];i!=null&&i!==t&&this.applySize(i)}},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||e||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick(()=>{if(this.id===e){const n=this.$el.offsetWidth,i=this.$el.offsetHeight;this.applyWidthHeight(n,i)}this.$_pendingSizeUpdate=null})},applyWidthHeight(e,n){const i=~~(this.vscrollParent.direction==="vertical"?n:e);i&&this.size!==i&&this.applySize(i)},applySize(e){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.emitResize&&this.$emit("resize",this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,this.$_sizeObserved=!0))},unobserveSize(){this.vscrollResizeObserver&&this.$_sizeObserved&&(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,this.$_sizeObserved=!1)},onResize(e,n,i){this.id===e&&this.applyWidthHeight(n,i)}},render(){return zn(this.tag,this.$slots.default())}};Qt.__file="src/components/DynamicScrollerItem.vue";function $i(e,n){const t=Nt(new Map),o=(...s)=>JSON.stringify(s),r=(s,...d)=>(t.set(s,e(...d)),t.get(s)),l=(...s)=>r(o(...s),...s),u=(...s)=>{t.delete(o(...s))},a=()=>{t.clear()},c=(...s)=>{const d=o(...s);return t.has(d)?t.get(d):r(d,...s)};return c.load=l,c.delete=u,c.clear=a,c.generateKey=o,c.cache=t,c}const ji={components:{DynamicScroller:at,DynamicScrollerItem:Qt,"ww-element-option":Ht},props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:sidepanel-content"],setup(e,{emit:n}){w(()=>!1);const i=w(()=>!1),t=P("_wwSelect:rawData",I([])),o=P("_wwSelect:searchState",I(null)),{updateSearch:r}=P("_wwSelect:useSearch",{}),l=P("_wwSelect:registerOptionProperties",()=>{}),u=w(()=>e.content.virtualScroll),a=w(()=>e.content.virtualScrollSizeDependencies),c=w(()=>e.content.virtualScrollMinItemSize||40),s=w(()=>e.content.virtualScrollBuffer||400),d=w(()=>wwLib.wwLang.getText(e.content.emptyStateText)),m=w(()=>{const h=t.value;return Array.isArray(h)?h:[]}),y=w(()=>!m.value||m.value.length===0?{}:m.value[0]),T=$i((h,S)=>h.filter(b=>{var E,D,L;if(typeof b!="object"||b===null){const A=b.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),C=S.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return A.includes(C)}else return((D=(E=o.value)==null?void 0:E.searchBy)!=null&&D.length?(L=o.value)==null?void 0:L.searchBy:Object.keys(b)).some(C=>{const V=b[C];if(!V)return!1;const F=V.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),k=S.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return F.includes(k)})})),p=w(()=>!o.value||!o.value.value?m.value:T(m.value,o.value.value)),g=w(()=>p.value.map((h,S)=>typeof h!="object"||h===null?{value:h,id:`id_${S}`}:{...h,id:h.id??`id_${S}`}));B(p,()=>{if(r){const h=o.value&&o.value.value?p.value:[];r({...o.value,searchMatches:h})}});const v=w(()=>({"font-family":e.content.emptyStateFontFamily,"font-size":e.content.emptyStateFontSize,"font-weight":e.content.emptyStateFontWeight,color:e.content.emptyStateFontColor,padding:e.content.emptyStatePadding,"text-align":e.content.emptyStateTextAlign,width:"100%"}));return B(y,h=>{n("update:sidepanel-content",{path:"optionProperties",value:h}),l&&l(h)},{immediate:!0}),{emptyStateText:d,filteredOptions:p,virtualScroll:u,virtualScrollSizeDependencies:a,virtualScrollMinItemSize:c,virtualScrollBuffer:s,showEmptyStateInEditor:i,dynamicScrollerItems:g,emptyStateStyle:v}}};function Ni(e,n,i,t,o,r){const l=q("ww-element-option"),u=q("wwLayoutItemContext"),a=q("DynamicScrollerItem"),c=q("DynamicScroller");return x(),M(rt,null,[t.filteredOptions.length>0?(x(),j(c,{style:{height:"100%"},items:t.dynamicScrollerItems,"min-item-size":t.virtualScrollMinItemSize,buffer:t.virtualScrollBuffer,key:t.filteredOptions.length},{default:Y(({item:s,index:d,active:m})=>[le(a,{item:s,active:m,"size-dependencies":JSON.stringify(s),"data-index":d},{default:Y(()=>[(x(),j(u,{key:d,"is-repeat":"",index:d,data:s},{default:Y(()=>[K("div",{style:$(d!=t.filteredOptions.length-1?{paddingBottom:i.content.optionSpacing}:{})},[le(l,{"local-data":s,content:i.content,wwEditorState:e.wwEditorState},null,8,["local-data","content","wwEditorState"])],4)]),_:2},1032,["index","data"]))]),_:2},1032,["item","active","size-dependencies","data-index"])]),_:1},8,["items","min-item-size","buffer"])):Q("",!0),qt(K("div",{style:$(t.emptyStateStyle)},[K("span",null,he(t.emptyStateText),1)],4),[[Ln,t.filteredOptions.length===0||t.showEmptyStateInEditor]])],64)}const Zt=Z(ji,[["render",Ni]]),qi={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["element-event","trigger-event","update:sidepanel-content"],setup(e,{emit:n}){const{updateHasSearch:i,updateSearchElement:t,updateSearch:o,autoFocusSearch:r,focusSearch:l,isSearchBarFocused:u}=P("_wwSelect:useSearch",{}),a=I(null),c=w(()=>a.value),s=w(()=>(e.content.searchBy||[]).filter(v=>v&&v.filter).map(v=>JSON.parse(v.filter.replace(/'/g,'"'))).flat()),d=Qe((v,h)=>{o&&o({value:v,searchBy:h})},300),m=w(()=>{const v=e.content.searchBorder?{"border-top":e.content.searchBorderTop,"border-right":e.content.searchBorderRight,"border-bottom":e.content.searchBorderBottom,"border-left":e.content.searchBorderLeft}:{border:e.content.searchBorderAll};return{width:e.content.searchWidth,height:e.content.searchHeight,"border-radius":e.content.searchBorderRadius,padding:e.content.searchPadding,margin:e.content.searchMargin,"background-color":e.content.searchBgColor,"font-family":e.content.searchFontFamily,"font-size":e.content.searchFontSize,"font-weight":e.content.searchFontWeight,color:e.content.searchFontColor,"--placeholder-color":e.content.searchPlaceholderColor,outline:e.content.searchOutline,"outline-offset":e.content.searchOutlineOffset,cursor:"text",...v}}),y=w(()=>wwLib.wwLang.getText(e.content.searchPlaceholder)),T=v=>{var h;d((h=v==null?void 0:v.target)==null?void 0:h.value,s)},p=()=>{u.value=!0},g=()=>{u.value=!1};return B(c,v=>{t&&t(v)}),Ut(()=>{i&&i(!0),o&&o({value:"",searchBy:s,searchMatches:[]})}),ot(()=>{i&&i(!1)}),{searchElementRef:a,handleInputChange:T,handleSearchFocus:p,handleSearchBlur:g,searchStyles:m,searchPlaceholder:y}}},Ui=["placeholder"];function Hi(e,n,i,t,o,r){return x(),M("input",{ref:"searchElementRef",name:"select-search",style:$([t.searchStyles]),class:de(["ww-select-search"]),onInput:n[0]||(n[0]=(...l)=>t.handleInputChange&&t.handleInputChange(...l)),onFocus:n[1]||(n[1]=(...l)=>t.handleSearchFocus&&t.handleSearchFocus(...l)),onBlur:n[2]||(n[2]=(...l)=>t.handleSearchBlur&&t.handleSearchBlur(...l)),placeholder:t.searchPlaceholder},null,44,Ui)}const en=Z(qi,[["render",Hi],["__scopeId","data-v-3b45a4ec"]]),Wi={components:{"ww-element-options-list":Zt,"ww-element-search":en},props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},setup(e){const n=P("_wwSelect:updateDropdownConfig",()=>{}),i=w(()=>({side:e.content.side,align:e.content.align,offsetX:e.content.offsetX,offsetY:e.content.offsetY,autoPosition:e.content.autoPosition,boundOffset:e.content.boundOffset}));return B(i,()=>{n(i.value)},{immediate:!0,deep:!0}),{dropdownConfig:i}}};function Ki(e,n,i,t,o,r){return se(e.$slots,"default")}const Yi=Z(Wi,[["render",Ki]]);function Ji({elementRef:e,options:n,isOpen:i,methods:{openDropdown:t,closeDropdown:o,toggleValue:r}}){const l=`ww-select-dropdown-${wwLib.wwUtils.getUid()}`,u=I(""),a=I(0),c=I(""),s=v=>{const h=n.value[v];a.value=v,c.value=h.value,u.value=h.optionId},d=v=>{if(v===null){m();return}const h=n.value.findIndex(S=>S.optionId===v);s(h)},m=()=>{u.value="",a.value=0,c.value=""},y=()=>{var v;(v=e.value)==null||v.focus()};B(n,()=>{if(m(),n.value.length>0){const v=n.value.find(h=>h.isSelected);if(v){const h=n.value.findIndex(S=>S.value===v.value);s(h)}}},{immediate:!0,deep:!0});const T=v=>{const h=n.value.length;if(h===0)return;let S;i.value?u.value===""?S=v>0?0:h-1:S=(a.value+v+h)%h:S=0,s(S)},p=v=>{const S={ArrowDown:()=>{v.preventDefault(),i.value?T(1):t()},ArrowUp:()=>{v.preventDefault(),i.value?T(-1):t()},Enter:()=>{v.preventDefault(),i.value&&c.value!=null&&c.value!==void 0&&c.value!==""?r(c.value):i.value||t()},Escape:()=>{v.preventDefault(),i.value&&(o(),m())}}[v.key];S&&S()},g=v=>{const h=n.value.findIndex(S=>S.value===v);h!==-1&&s(h)};return R("_wwSelect:activeDescendant",u),R("_wwSelect:focusedOptionIndex",a),R("_wwSelect:setInitialFocus",g),R("_wwSelect:focusFromOptionId",d),R("_wwSelect:focusSelectElement",y),{dropdownId:l,activeDescendant:u,handleKeydown:p,resetFocus:m,setInitialFocus:g}}function Gi(e,{updateSearch:n}){const i=I(!1),t=I(null),o=I(!1);function r(s){i.value=s}function l(s){t.value=s}function u(){oe(()=>{t.value&&t.value.focus()})}function a(s){o.value=jt(s)}function c(){t.value&&(t.value.value="",n({...e,value:""}))}return{hasSearch:i,autoFocusSearch:o,updateHasSearch:r,updateSearchElement:l,resetSearch:c,updateAutoFocusSearch:a,focusSearch:u}}const Xi={components:{SelectTriger:si,SelectDropdown:Yi,SelectOption:Ht,SelectOptionList:Zt,SelectSearch:en},props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event","update:content","update:sidepanel-content","add-state","remove-state"],setup(e,{emit:n}){const i=I(0),t=w(()=>!1),o=w(()=>!1),r=Rn(wwLib.getFrontDocument().querySelector("#app")),l=w(()=>e.content.selectType),u=w(()=>l.value==="single"?e.content.initValueSingle??null:e.content.initValueMulti||[]),{value:a,setValue:c}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:l.value==="single"?"any":"array",defaultValue:u}),{resolveMappingFormula:s}=wwLib.wwFormula.useFormula(),d=w(()=>e.content.fieldName||e.wwElementState.name),m=w(()=>e.content.validation),y=w(()=>e.content.customValidation);P("_wwForm:useForm",()=>{})(a,{fieldName:d,validation:m,customValidation:y,initialValue:u},{elementState:e.wwElementState,emit:n,sidepanelFormPath:"form",setValue:c});const p=I(null),g=I(null),v=w(()=>e.content.autoFocus),h=I(new Map),S=w(()=>Array.from(h.value.values())),b=I(!1),O=I(!1),E=I(!1),D=I(!1),L=w(()=>e.content.choices||[]),A=w(()=>O.value),C=w(()=>O.value||E.value),V=w(()=>e.content.disabled||!1),F=w(()=>e.content.readonly||!1),k=w(()=>e.content.unselectOnClick||!1),J=w(()=>e.content.initialState||"closed"),ce=w(()=>e.content.closeOnClickOutside||!1),U=w(()=>e.content.manualTrigger||!1),G=I(null),we=I({}),ne=I(null),_e=I(0),Ce=I(0),fe=I(!0),ge=w(()=>e.content.mappingLabel),ye=w(()=>e.content.mappingValue),$e=w(()=>e.content.mappingDisabled),Ie=w(()=>e.content.showSearch),ee=w(()=>e.content.allowScrollingWhenOpen),ie=()=>{if(!(p!=null&&p.value))return;const f=p.value.getBoundingClientRect();pe.value={position:"absolute",top:`${f.top+f.height+parseInt(e.content.offsetY)}px`,left:`${f.left+parseInt(e.content.offsetX)}px`}};let pe=I({});const je=w(()=>b.value&&e.content.zIndexOpen?{zIndex:`${e.content.zIndexOpen} !important`}:{}),tn=w(()=>{const f=e.content.dropdownBorder?{"border-top":e.content.dropdownBorderTop,"border-right":e.content.dropdownBorderRight,"border-bottom":e.content.dropdownBorderBottom,"border-left":e.content.dropdownBorderLeft}:{border:e.content.dropdownBorderAll};return{width:e.content.dropdownWidth,"max-height":e.content.dropdownMaxHeight,"border-radius":e.content.dropdownBorderRadius,padding:e.content.dropdownPadding,"background-color":e.content.dropdownBgColor,"box-shadow":e.content.dropdownShadows,overflow:"auto",...f}}),lt=I(Date.now()),nn=(f,_)=>{h.value.set(f,_)},rn=f=>{h.value.delete(f)},on=f=>{f&&(we.value=f)},ct=f=>{G.value=f},ut=f=>{if(l.value==="single")Array.isArray(f)&&(console.warn("Single select component received an array value. Only the first value will be used."),f=f[0]),c(f),n("trigger-event",{name:"change",event:{value:f}});else{Array.isArray(f)||(f=[f]);const _=Array.isArray(a.value)?[...a.value]:[];for(let N of f)It(_,N)===-1&&(!e.content.limit||_.length<e.content.limit)&&_.push(N);c(_),n("trigger-event",{name:"change",event:{value:_}})}e.content.closeOnSelect&&te()},sn=f=>{var H;if(f===""||f==null||f===void 0)return;const _=Array.from(h.value).find(([W,re])=>re.value===f);if(!_&&!(S!=null&&S.length)>1||(H=_==null?void 0:_[1])!=null&&H.disabled)return;l.value==="single"?a.value:[...Array.isArray(a.value)?a.value:[]];let N=!1,z;if(l.value==="single")a.value===f?e.content.unselectOnClick&&(c(null),N=!0,e.content.closeOnSelect&&te()):e.content.selectOnClick&&(c(f),N=!0,e.content.closeOnSelect&&te()),z=a.value;else{const W=Array.isArray(a.value)?[...a.value]:[];let re=-1;typeof f=="object"&&f!==null?re=W.findIndex(We=>typeof We!="object"||We===null?!1:JSON.stringify(We)===JSON.stringify(f)):re=W.indexOf(f),re>=0?e.content.unselectOnClick&&(W.splice(re,1),N=!0,e.content.closeOnSelect&&te()):e.content.selectOnClick&&(W.push(f),N=!0,e.content.closeOnSelect&&te()),c(W),z=W}N&&n("trigger-event",{name:"change",event:{value:z}})};function dt(f){if(l.value!=="multiple"||V.value||F.value)return;fe.value=!1;const _=Array.isArray(a.value)?[...a.value]:[],N=It(_,f);N!==-1&&(_.splice(N,1),c(_)),n("trigger-event",{name:"change",event:{value:_}}),e.content.closeOnSelect?(fe.value=!0,te()):oe(()=>{fe.value=!0})}const{hasSearch:an,updateHasSearch:ft,updateSearchElement:ln,resetSearch:ht,autoFocusSearch:cn,updateAutoFocusSearch:Oe,focusSearch:un}=Gi(G,{updateSearch:ct});function xe(){if(V.value||F.value)return;const f=p.value.getBoundingClientRect();pe.value={position:"absolute",top:`${f.top+f.height+parseInt(e.content.offsetY)}px`,left:`${f.left+parseInt(e.content.offsetX)}px`},b.value=!0,oe(ie),cn.value&&un()}function te(){fe.value&&(ht(),yn(),b.value=!1)}function mt(f=null){t.value||U.value&&f||(b.value?te():xe())}function dn(){c(u.value||null),n("trigger-event",{name:"change",event:{value:u.value||null}})}function vt(f){ce.value&&b.value&&!p.value.contains(f.target)&&!g.value.contains(f.target)&&!t.value&&Date.now()>lt.value+400&&te()}function fn(){V.value||F.value||(O.value=!0)}function hn(){D.value||(O.value=!1)}function mn(){p.value&&!V.value&&!F.value&&p.value.focus()}const{dropdownId:vn,activeDescendant:wn,handleKeydown:gn,resetFocus:yn,setInitialFocus:wt}=Ji({elementRef:p,options:S,isOpen:b,methods:{openDropdown:xe,closeDropdown:te,toggleValue:sn}});function gt(){a.value&&(l.value==="single"?wt(a.value):Array.isArray(a.value)&&a.value.length&&wt(a.value[0]))}const pn=()=>{p.value&&(ne.value&&(ne.value.disconnect(),ne.value=null),ne.value=new ResizeObserver(Qe(f=>{if(f[0]){const _=p.value.getBoundingClientRect();_e.value=_.width,Ce.value=_.height}},16)),ne.value.observe(p.value))},bn=w(()=>{const f=new Map(L.value.map(z=>{const H=typeof z!="object"||z===null;let W,re;return H?(W=z,re=z):(W=s(me(ye),z)??z.value??z,re=z),[W,re]})),_=z=>typeof z!="object"||z===null?{value:z,label:z,disabled:!1,data:z}:{value:s(me(ye),z)??z.value??z,label:s(me(ge),z)??z.label??z.value??z,disabled:z.disabled||!1,data:z||{}},N=z=>{const H=Array.from(f.entries()).find(([W,re])=>Ze(W,z));return H?H[1]:null};if(l.value==="single"){const z=N(a.value);return z?_(z):null}else return(Array.isArray(a.value)?a.value:[]).map(H=>{const W=N(H);return W?_(W):{value:H,label:H,isInOptions:!1,info:"This value is not in the defined options"}})}),Sn=w(()=>{var f;return((f=S.value)==null?void 0:f.map(({optionId:_,...N})=>N))||I([])}),Ne=I({options:Sn,active:{value:a,details:bn},utils:{type:l,isOpen:b,triggerWidth:_e,triggerHeight:Ce}});let qe=null,Ue=null,yt=!1,be=!1,He="";try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){yt=!0}}))}catch{}be=yt?{passive:!1}:!1,He="onwheel"in document.createElement("div")?"wheel":"mousewheel";const ue=f=>{f.preventDefault()},pt=f=>{if({37:1,38:1,39:1,40:1}[f.keyCode])return ue(f),!1},_n=()=>{const f=wwLib.getFrontWindow(),_=wwLib.getFrontDocument();!f||!_||(qe={..._.documentElement.style},Ue={..._.body.style},_.body.style.touchAction="none",f.addEventListener("DOMMouseScroll",ue,!1),f.addEventListener(He,ue,be),f.addEventListener("touchmove",ue,be),f.addEventListener("keydown",pt,!1))},bt=()=>{const f=wwLib.getFrontDocument(),_=wwLib.getFrontWindow();!f||!_||qe!==null&&Ue!==null&&(f.body.style.touchAction="",f.body.style["touch-action"]="",_.removeEventListener("DOMMouseScroll",ue,!1),_.removeEventListener(He,ue,be),_.removeEventListener("touchmove",ue,be),_.removeEventListener("keydown",pt,!1),qe=null,Ue=null)};B(an,f=>{f?Ne.value.search={value:w(()=>{var _;return((_=G.value)==null?void 0:_.value)||""}),searchBy:w(()=>{var _;return((_=G.value)==null?void 0:_.searchBy)||[]}),searchMatches:w(()=>{var _;return((_=G.value)==null?void 0:_.searchMatches)||[]})}:delete Ne.value.search},{immediate:!0}),B(v,f=>{Oe&&Oe(f)}),B(Ie,()=>{ft(Ie)}),B(O,(f,_)=>{f&&!_?n("trigger-event",{name:"focus",event:null}):!f&&_&&n("trigger-event",{name:"blur",event:null})}),B(C,f=>{n(f?"add-state":"remove-state","focus")},{immediate:!0}),B(b,()=>{oe(ie),gt(),b.value?ee.value||_n():ee.value||bt()}),B(a,()=>{oe(ie)},{deep:!0}),B([u,l],()=>{u.value!==null&&u.value!==void 0||Array.isArray(u.value)&&u.value.length?(c(u.value),oe(Qe(gt,300))):c(null),n("trigger-event",{name:"initValueChange",event:{value:u.value}})},{immediate:!0}),B(J,()=>{J.value&&J.value==="open"?xe():o.value||te()},{immediate:!0});const Te=I({}),St=f=>({data:_,markdown:N})=>{const z=Te.value,H={data:{...z.data,[f]:_},methods:{},markdown:{...z.markdown,[f]:N}};wwLib.wwElement.useRegisterElementLocalContext("select",H.data,H.methods,H.markdown),Te.value=H},Cn=St("selectTrigger"),In=St("select");return R("_wwSelect:mappingLabel",ge),R("_wwSelect:mappingValue",ye),R("_wwSelect:mappingDisabled",$e),R("_wwSelect:rawData",L),R("_wwSelect:options",S),R("_wwSelect:type",l),R("_wwSelect:value",a),R("_wwSelect:setValue",c),R("_wwSelect:isDisabled",V),R("_wwSelect:isReadonly",F),R("_wwSelect:canUnselect",k),R("_wwSelect:searchState",G),R("_wwSelect:optionProperties",we),R("_wwSelect:updateValue",ut),R("_wwSelect:removeSpecificValue",dt),R("_wwSelect:registerOption",nn),R("_wwSelect:unregisterOption",rn),R("_wwSelect:registerOptionProperties",on),R("_wwSelect:registerTriggerLocalContext",Cn),R("_wwSelect:dropdownMethods",{closeDropdown:te}),R("_wwSelect:useSearch",{updateHasSearch:ft,updateSearchElement:ln,updateSearch:ct,updateAutoFocusSearch:Oe,isSearchBarFocused:E}),R("_wwSelect:isMouseDownOnOption",D),R("_wwSelect:localContext",Te),In({data:Ne,markdown:"### Select local informations\n\n            #### options\n            Array of all available options in the dropdown. Each option contains:\n            - `value`: Option's value\n            - `label`: Display text\n            - `disabled`: Boolean indicating if option is disabled\n            - `isSelected`: Boolean indicating if option is selected\n            - `data`: Data from the repeat context (optional)\n\n            #### active\n            Information about currently selected option(s):\n            - `value`: Current selection (single value or array for multiple select)\n            - `details`: Detailed information about selected option(s)\n\n            #### utils\n            Component state information:\n            - `type`: Select type ('single' or 'multiple')\n            - `isOpen`: Boolean indicating if dropdown is open\n            - `triggerWidth`: Width of trigger element\n            - `triggerHeight`: Height of trigger element\n\n            #### search (optional)\n            Present when search is enabled:\n            - `value`: Current search input value\n            - `searchBy`: Fields to search by\n            - `searchMatches`: Options matching search criteria"}),Oe(v),Ut(()=>{oe(()=>{pn()}),wwLib.getFrontDocument().addEventListener("click",vt),wwLib.getFrontWindow().addEventListener("scroll",ie)}),ot(()=>{ne.value&&(ne.value.disconnect(),ne.value=null),bt(),wwLib.getFrontDocument().removeEventListener("click",vt)}),B(we,f=>{n("update:sidepanel-content",{path:"optionProperties",value:f})},{immediate:!0,deep:!0}),{appDivRef:r,showSearch:Ie,componentKey:i,isEditing:t,forceOpenInEditor:o,isOpen:b,isReallyFocused:O,isSearchBarFocused:E,isFocused:A,isAnySelectElementFocused:C,triggerElement:p,dropdownElement:g,floatingStyles:pe,dropdownStyles:tn,dropdownId:vn,activeDescendant:wn,isDisabled:V,selectType:l,handleKeydown:gn,handleFocus:fn,handleBlur:hn,focusInput:mn,toggleDropdown:mt,resizeObserver:ne,options:S,currentLocalContext:Te,variableValue:a,lastTriggeredComponentAction:lt,selectStyles:je,openDropdown:xe,closeDropdown:te,toggleDropdown:mt,updateValue:ut,resetValue:dn,removeSpecificValue:dt,resetSearch:ht}},methods:{resetLastTriggerComponentAction(){this.lastTriggeredComponentAction=Date.now()},actionOpenDropdown(){this.resetLastTriggerComponentAction(),this.openDropdown()},actionCloseDropdown(){this.resetLastTriggerComponentAction(),this.closeDropdown()},actionToggleDropdown(){this.resetLastTriggerComponentAction(),this.toggleDropdown()},actionUpdateValue(e){this.resetLastTriggerComponentAction(),this.updateValue(e)},actionResetValue(){this.resetLastTriggerComponentAction(),this.resetValue()},actionRemoveSpecificValue(e){this.resetLastTriggerComponentAction(),this.removeSpecificValue(e)},actionResetSearch(){this.resetLastTriggerComponentAction(),this.resetSearch()},actionFocusInput(){this.resetLastTriggerComponentAction(),this.focusInput()}}},Qi=["aria-haspopup","aria-expanded","aria-controls","aria-activedescendant","tabindex","aria-disabled"],Zi=["id","role","aria-multiselectable"],er=["name","value","required"];function tr(e,n,i,t,o,r){const l=q("SelectTriger"),u=q("SelectSearch"),a=q("SelectOptionList"),c=q("SelectDropdown");return x(),M("div",{class:de(["ww-select",{"ww-select-z-index":t.isOpen&&i.content.zIndexOpen}]),style:$({"--select-z-index":t.isOpen&&i.content.zIndexOpen?i.content.zIndexOpen:"auto"}),ref:"componentKey","data-ww-flag":"ww-select"},[K("div",{class:"ww-select__trigger",ref:"triggerElement",onClick:n[0]||(n[0]=(...s)=>t.toggleDropdown&&t.toggleDropdown(...s)),onKeydown:n[1]||(n[1]=(...s)=>t.handleKeydown&&t.handleKeydown(...s)),onFocus:n[2]||(n[2]=(...s)=>t.handleFocus&&t.handleFocus(...s)),onBlur:n[3]||(n[3]=(...s)=>t.handleBlur&&t.handleBlur(...s)),role:"combobox","aria-haspopup":t.selectType==="single"?"listbox":"true","aria-expanded":t.isOpen,"aria-controls":t.dropdownId,"aria-activedescendant":t.activeDescendant,tabindex:t.isDisabled?-1:0,"aria-disabled":t.isDisabled},[le(l,{content:i.content,onRemoveMultiselectValue:t.removeSpecificValue},null,8,["content","onRemoveMultiselectValue"])],40,Qi),t.isOpen?(x(),j(An,{key:0,to:t.appDivRef},[K("div",{class:"ww-select__dropdown__wrapper",style:$({pointerEvents:t.isEditing&&t.forceOpenInEditor?"none":"auto"})},[K("div",{class:"ww-select__dropdown",ref:"dropdownElement",style:$([t.floatingStyles||{}]),id:t.dropdownId,role:t.selectType==="single"?"listbox":"group","aria-multiselectable":t.selectType==="multiple","aria-label":"Select options","inherit-component-style":""},[K("div",{style:$([t.dropdownStyles])},[le(c,{content:i.content,wwEditorState:e.wwEditorState},{default:Y(()=>[t.showSearch?(x(),j(u,{key:0,content:i.content,wwEditorState:e.wwEditorState},null,8,["content","wwEditorState"])):Q("",!0),le(a,{content:i.content,wwEditorState:e.wwEditorState},null,8,["content","wwEditorState"])]),_:1},8,["content","wwEditorState"])],4)],12,Zi)],4)],8,["to"])):Q("",!0),K("input",{type:"input",name:i.content.fieldName,value:t.variableValue,required:i.content.required,tabindex:"-1",class:"fake-input"},null,8,er)],6)}const nr=Z(Xi,[["render",tr],["__scopeId","data-v-ac036ed2"]]),ir=/.*?src="(.*?)"/gim,rr=/.*?charset="(.*?)"/gim,or=/<script.*>(.*)<\/script>/gim,sr={props:{content:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["update:content"],data(){return{reset:!1}},computed:{isEditing(){return!1},source(){return this.reset?null:this.content.source?this.content.source:null},scripts(){return typeof this.content.source!="string"?[]:[...this.content.source.matchAll(/<script.*?>.*?<\/script>/gim)].map(n=>n[0]).map(n=>{const i=new RegExp(ir).exec(n),t=new RegExp(rr).exec(n),o=new RegExp(or).exec(n);return{src:i&&i[1],charset:t&&t[1],async:n.includes(" async"),content:o&&o[1],attributes:{"ww-html-uid":this.uid}}})}},mounted(){this.init(),wwLib.getFrontWindow().addEventListener("resize",this.reinit)},watch:{scripts(){this.init()},isEditing(e){e||this.init()}},methods:{async init(){try{await this.loadScripts(),this.executeJavascript()}catch(e){wwLib.wwLog.error(e,"error")}},async loadScripts(){if(!window.__WW_IS_PRERENDER__)return wwLib.getFrontDocument().head.querySelectorAll(`script[ww-html-uid="${this.uid}"]`).forEach(e=>e.remove()),Promise.all(this.scripts.filter(e=>e.src).map(e=>wwLib.wwUtils.addScriptToHead({link:e.src,async:e.async,charset:e.charset,attributes:e.attributes},!0)))},executeJavascript(){window.__WW_IS_PRERENDER__||this.scripts.filter(e=>e.content).forEach(e=>{new Function(e.content)()})},reinit(){this.content.refreshOnResize&&(this.reset=!0,this.$nextTick(()=>{this.reset=!1,this.init()}))}},beforeUnmount(){wwLib.getFrontWindow().removeEventListener("resize",this.reinit)}},ar=["innerHTML"];function lr(e,n,i,t,o,r){return x(),M("div",{ref:"html",class:de(["ww-html",{isEditing:r.isEditing}])},[r.source?(x(),M("div",{key:0,class:"html-holder",innerHTML:r.source},null,8,ar)):Q("",!0)],2)}const cr=Z(sr,[["render",lr],["__scopeId","data-v-b9c53045"]]),ur={center:"center",right:"flex-end",left:"flex-start",justify:"center"},dr={props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content","update:content:effect","change-menu-visibility","change-borders-style","add-state","remove-state","trigger-event"],setup(e){const{hasLink:n,tag:i,properties:t}=wwLib.wwElement.useLink({isDisabled:w(()=>e.content.disabled)});return{hasLink:n,linkTag:i,properties:t}},data(){return{isReallyFocused:!1}},computed:{buttonStyle(){return{justifyContent:ur[this.content["_ww-text_textAlign"]]||"center"}},isEditing(){return!1},tag(){return this.isEditing?"div":this.hasLink?this.linkTag:this.content.buttonType==="submit"||this.content.buttonType==="reset"||this.content.buttonType==="button"?"button":"div"},buttonType(){return this.isEditing||this.hasLink?"":this.content.buttonType==="submit"||this.content.buttonType==="reset"||this.content.buttonType==="button"?this.content.buttonType:""},text(){return this.wwElementState.props.text},isFocused(){return this.isReallyFocused}},watch:{"content.disabled":{immediate:!0,handler(e){e?this.$emit("add-state","disabled"):this.$emit("remove-state","disabled")}},isReallyFocused(e,n){e&&!n?this.$emit("trigger-event",{name:"focus"}):!e&&n&&this.$emit("trigger-event",{name:"blur"})},isFocused:{immediate:!0,handler(e){e?this.$emit("add-state","focus"):this.$emit("remove-state","focus")}}},methods:{onBlur(){this.isReallyFocused=!1}}};function fr(e,n,i,t,o,r){const l=q("wwElement",!0),u=q("wwText");return x(),j(ve(r.tag),X({class:["ww-button",{button:r.tag,"-link":t.hasLink&&!r.isEditing}],type:r.buttonType,style:r.buttonStyle,"data-ww-flag":"btn-"+i.content.buttonType,disabled:i.content.disabled},t.properties,{onFocus:n[0]||(n[0]=a=>o.isReallyFocused=!0),onBlur:n[1]||(n[1]=a=>r.onBlur(a))}),{default:Y(()=>[i.content.hasLeftIcon&&i.content.leftIcon?(x(),j(l,Se(X({key:0},i.content.leftIcon)),null,16)):Q("",!0),le(u,{tag:"span",text:r.text},null,8,["text"]),i.content.hasRightIcon&&i.content.rightIcon?(x(),j(l,Se(X({key:1},i.content.rightIcon)),null,16)):Q("",!0)]),_:1},16,["class","type","style","data-ww-flag","disabled"])}const hr=Z(dr,[["render",fr],["__scopeId","data-v-b91f172c"]]),mr={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content:effect","update:content","element-event"],setup(){const{hasLink:e,tag:n,properties:i}=wwLib.wwElement.useLink(),t=wwLib.wwElement.useBackgroundVideo();return{hasLink:e,properties:i,backgroundVideo:t,tag:n}},computed:{children(){return!this.content.children||!Array.isArray(this.content.children)?[]:this.content.children},isFixed(){return this.wwElementState.props.isFixed},noDropzone(){return this.wwElementState.props.noDropzone},isEditing(){return!1}},methods:{onElementClick(e){let n=e.currentTarget.dataset.wwFlexboxIndex,i=parseInt(n);isNaN(i)&&(i=0),this.$emit("element-event",{type:"click",index:i})}}};function vr(e,n,i,t,o,r){const l=q("wwSimpleLayout"),u=q("wwBackgroundVideo"),a=q("wwElement",!0),c=q("wwLayout");return r.noDropzone?(x(),j(l,X({key:0,tag:t.tag,class:"ww-flexbox","ww-responsive":"wwLayoutSlot"},t.properties,{class:{"-link":t.hasLink&&!r.isEditing}}),{default:Y(()=>[se(e.$slots,"default",{},void 0,!0)]),_:3},16,["tag","class"])):(x(),j(c,X({key:1,class:"ww-flexbox",path:"children",direction:i.content.direction,"disable-edit":r.isFixed,"ww-responsive":"wwLayout",tag:t.tag},t.properties,{class:{"-link":t.hasLink&&!r.isEditing}}),{header:Y(()=>[t.backgroundVideo?(x(),j(u,{key:0,video:t.backgroundVideo},null,8,["video"])):Q("",!0),r.noDropzone?Q("",!0):se(e.$slots,"default",{key:1},void 0,!0)]),default:Y(({item:s,index:d,itemStyle:m})=>[le(a,X(s,{"extra-style":m,class:"ww-flexbox__object","ww-responsive":`wwobject-${d}`,"data-ww-flexbox-index":d,onClick:r.onElementClick}),null,16,["extra-style","ww-responsive","data-ww-flexbox-index","onClick"])]),_:3},16,["direction","disable-edit","tag","class"]))}const wr=Z(mr,[["render",vr],["__scopeId","data-v-14f7a5a5"]]);var Fe={exports:{}},Ye,Tt;function gr(){if(Tt)return Ye;Tt=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var n={},i={};return n.on=function(t,o){var r={name:t,handler:o};return i[t]=i[t]||[],i[t].unshift(r),r},n.off=function(t){var o=i[t.name].indexOf(t);o!==-1&&i[t.name].splice(o,1)},n.trigger=function(t,o){var r=i[t],l;if(r)for(l=r.length;l--;)r[l].handler(o)},n},Ye=e,Ye}var De={exports:{}},ke={exports:{}},Je,zt;function yr(){if(zt)return Je;zt=1;var e=1e3,n=e*60,i=n*60,t=i*24,o=t*7,r=t*365.25;Je=function(s,d){d=d||{};var m=typeof s;if(m==="string"&&s.length>0)return l(s);if(m==="number"&&isFinite(s))return d.long?a(s):u(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function l(s){if(s=String(s),!(s.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(d){var m=parseFloat(d[1]),y=(d[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return m*r;case"weeks":case"week":case"w":return m*o;case"days":case"day":case"d":return m*t;case"hours":case"hour":case"hrs":case"hr":case"h":return m*i;case"minutes":case"minute":case"mins":case"min":case"m":return m*n;case"seconds":case"second":case"secs":case"sec":case"s":return m*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function u(s){var d=Math.abs(s);return d>=t?Math.round(s/t)+"d":d>=i?Math.round(s/i)+"h":d>=n?Math.round(s/n)+"m":d>=e?Math.round(s/e)+"s":s+"ms"}function a(s){var d=Math.abs(s);return d>=t?c(s,d,t,"day"):d>=i?c(s,d,i,"hour"):d>=n?c(s,d,n,"minute"):d>=e?c(s,d,e,"second"):s+" ms"}function c(s,d,m,y){var T=d>=m*1.5;return Math.round(s/m)+" "+y+(T?"s":"")}return Je}var Ge,Ft;function pr(){if(Ft)return Ge;Ft=1;function e(n){t.debug=t,t.default=t,t.coerce=c,t.disable=u,t.enable=r,t.enabled=a,t.humanize=yr(),t.destroy=s,Object.keys(n).forEach(d=>{t[d]=n[d]}),t.names=[],t.skips=[],t.formatters={};function i(d){let m=0;for(let y=0;y<d.length;y++)m=(m<<5)-m+d.charCodeAt(y),m|=0;return t.colors[Math.abs(m)%t.colors.length]}t.selectColor=i;function t(d){let m,y=null,T,p;function g(...v){if(!g.enabled)return;const h=g,S=Number(new Date),b=S-(m||S);h.diff=b,h.prev=m,h.curr=S,m=S,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let O=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(D,L)=>{if(D==="%%")return"%";O++;const A=t.formatters[L];if(typeof A=="function"){const C=v[O];D=A.call(h,C),v.splice(O,1),O--}return D}),t.formatArgs.call(h,v),(h.log||t.log).apply(h,v)}return g.namespace=d,g.useColors=t.useColors(),g.color=t.selectColor(d),g.extend=o,g.destroy=t.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(T!==t.namespaces&&(T=t.namespaces,p=t.enabled(d)),p),set:v=>{y=v}}),typeof t.init=="function"&&t.init(g),g}function o(d,m){const y=t(this.namespace+(typeof m>"u"?":":m)+d);return y.log=this.log,y}function r(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];const m=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const y of m)y[0]==="-"?t.skips.push(y.slice(1)):t.names.push(y)}function l(d,m){let y=0,T=0,p=-1,g=0;for(;y<d.length;)if(T<m.length&&(m[T]===d[y]||m[T]==="*"))m[T]==="*"?(p=T,g=y,T++):(y++,T++);else if(p!==-1)T=p+1,g++,y=g;else return!1;for(;T<m.length&&m[T]==="*";)T++;return T===m.length}function u(){const d=[...t.names,...t.skips.map(m=>"-"+m)].join(",");return t.enable(""),d}function a(d){for(const m of t.skips)if(l(d,m))return!1;for(const m of t.names)if(l(d,m))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}function s(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return Ge=e,Ge}var Dt;function br(){return Dt||(Dt=1,(function(e,n){var i={};n.formatArgs=o,n.save=r,n.load=l,n.useColors=t,n.storage=u(),n.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;c.splice(1,0,s,"color: inherit");let d=0,m=0;c[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(d++,y==="%c"&&(m=d))}),c.splice(m,0,s)}n.log=console.debug||console.log||(()=>{});function r(c){try{c?n.storage.setItem("debug",c):n.storage.removeItem("debug")}catch{}}function l(){let c;try{c=n.storage.getItem("debug")||n.storage.getItem("DEBUG")}catch{}return!c&&typeof _t<"u"&&"env"in _t&&(c=i.DEBUG),c}function u(){try{return localStorage}catch{}}e.exports=pr()(n);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}})(ke,ke.exports)),ke.exports}var Ee={exports:{}},Le={exports:{}},kt;function Sr(){return kt||(kt=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=n.default})(Le,Le.exports)),Le.exports}var Et;function _r(){return Et||(Et=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=Sr(),t=o(i);function o(r){return r&&r.__esModule?r:{default:r}}n.default={pauseVideo:{acceptableStates:[t.default.ENDED,t.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[t.default.ENDED,t.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[t.default.ENDED,t.default.PLAYING,t.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=n.default})(Ee,Ee.exports)),Ee.exports}var Ae={exports:{}},Lt;function Cr(){return Lt||(Lt=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=n.default})(Ae,Ae.exports)),Ae.exports}var Re={exports:{}},At;function Ir(){return At||(At=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],e.exports=n.default})(Re,Re.exports)),Re.exports}var Rt;function Or(){return Rt||(Rt=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=br(),t=s(i),o=_r(),r=s(o),l=Cr(),u=s(l),a=Ir(),c=s(a);function s(y){return y&&y.__esModule?y:{default:y}}const d=(0,t.default)("youtube-player"),m={};m.proxyEvents=y=>{const T={};for(const p of u.default){const g="on"+p.slice(0,1).toUpperCase()+p.slice(1);T[g]=v=>{d('event "%s"',g,v),y.trigger(p,v)}}return T},m.promisifyPlayer=(y,T=!1)=>{const p={};for(const g of c.default)T&&r.default[g]?p[g]=(...v)=>y.then(h=>{const S=r.default[g],b=h.getPlayerState(),O=h[g].apply(h,v);return S.stateChangeRequired||Array.isArray(S.acceptableStates)&&!S.acceptableStates.includes(b)?new Promise(E=>{const D=()=>{const L=h.getPlayerState();let A;typeof S.timeout=="number"&&(A=setTimeout(()=>{h.removeEventListener("onStateChange",D),E()},S.timeout)),Array.isArray(S.acceptableStates)&&S.acceptableStates.includes(L)&&(h.removeEventListener("onStateChange",D),clearTimeout(A),E())};h.addEventListener("onStateChange",D)}).then(()=>O):O}):p[g]=(...v)=>y.then(h=>h[g].apply(h,v));return p},n.default=m,e.exports=n.default})(De,De.exports)),De.exports}var Ve={exports:{}},Xe,Vt;function xr(){if(Vt)return Xe;Vt=1,Xe=function(o,r,l){var u=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");typeof r=="function"&&(l=r,r={}),r=r||{},l=l||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async="async"in r?!!r.async:!0,a.src=o,r.attrs&&e(a,r.attrs),r.text&&(a.text=""+r.text);var c="onload"in a?n:i;c(a,l),a.onload||n(a,l),u.appendChild(a)};function e(t,o){for(var r in o)t.setAttribute(r,o[r])}function n(t,o){t.onload=function(){this.onerror=this.onload=null,o(null,t)},t.onerror=function(){this.onerror=this.onload=null,o(new Error("Failed to load "+this.src),t)}}function i(t,o){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,o(null,t))}}return Xe}var Pt;function Tr(){return Pt||(Pt=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=xr(),t=o(i);function o(r){return r&&r.__esModule?r:{default:r}}n.default=r=>new Promise(u=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){u(window.YT);return}else{const c=window.location.protocol==="http:"?"http:":"https:";(0,t.default)(c+"//www.youtube.com/iframe_api",s=>{s&&r.trigger("error",s)})}const a=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{a&&a(),u(window.YT)}}),e.exports=n.default})(Ve,Ve.exports)),Ve.exports}var Mt;function zr(){return Mt||(Mt=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=gr(),t=a(i),o=Or(),r=a(o),l=Tr(),u=a(l);function a(s){return s&&s.__esModule?s:{default:s}}let c;n.default=(s,d={},m=!1)=>{const y=(0,t.default)();if(c||(c=(0,u.default)(y)),d.events)throw new Error("Event handlers cannot be overwritten.");if(typeof s=="string"&&!document.getElementById(s))throw new Error('Element "'+s+'" does not exist.');d.events=r.default.proxyEvents(y);const T=new Promise(g=>{typeof s=="object"&&s.playVideo instanceof Function?g(s):c.then(v=>{const h=new v.Player(s,d);return y.on("ready",()=>{g(h)}),null})}),p=r.default.promisifyPlayer(T,m);return p.on=y.on,p.off=y.off,p},e.exports=n.default})(Fe,Fe.exports)),Fe.exports}var Fr=zr();const Dr=Vn(Fr),kr={props:{content:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["update:sidepanel-content","trigger-event"],setup(e){const{variableValue:i,setValue:t}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"Is Playing",type:"boolean",defaultValue:!1,readonly:!0}),{variableValue:o,setValue:r}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"Current time",type:"number",defaultValue:0,readonly:!0});return{player:null,isPlayingVariableValue:i,setIsPlayingValue:t,currentTimeVariableValue:o,setCurrentTimeValue:r}},data(){return{timeUpdater:null}},computed:{isEditing(){return!1},videoId(){return!this.content.url||typeof this.content.url!="string"?"":this.content.url.indexOf("youtube.com")!==-1?this.content.url.split("v=")[1].split("?")[0]:this.content.url.indexOf("youtu.be")!==-1?this.content.url.split("be/")[1].split("?")[0]:""}},watch:{isEditing(){this.initPlayer()},"content.url"(){this.initPlayer()},"content.controls"(){this.initPlayer()},"content.muted"(e){this.player&&(e?this.player.mute():this.player.unMute())},"content.autoplay"(e){this.content.muted||this.$emit("update:content",{muted:!0}),this.player&&e&&!this.isEditing&&this.player.loadVideoById({videoId:this.videoId,startSeconds:this.content.videoStartTime})}},methods:{async initPlayer(){if(window.__WW_IS_PRERENDER__||(this.timeUpdater&&clearInterval(this.timeUpdater),!this.videoId))return;this.player&&await this.player.destroy();const e=this.$refs.videoPlayer;this.player=await Dr(e,{videoId:this.videoId,playerVars:{controls:this.content.controls?1:0}}),this.player.on("ready",async()=>{this.content.muted&&this.player.mute(),!this.isEditing&&(this.content.autoplay?this.player.loadVideoById({videoId:this.videoId,startSeconds:this.content.videoStartTime}):this.player.cueVideoById({videoId:this.videoId,startSeconds:this.content.videoStartTime}),this.timeUpdater=setInterval(await this.updateCurrentTime,250),this.player.on("stateChange",async n=>{switch(n.data){case 1:this.setIsPlayingValue(!0),this.$emit("trigger-event",{name:"play",event:{value:await this.player.getCurrentTime()}});break;case 2:this.setIsPlayingValue(!1),this.$emit("trigger-event",{name:"pause",event:{value:await this.player.getCurrentTime()}});break;case 0:this.setIsPlayingValue(!1),this.$emit("trigger-event",{name:"end",event:{value:await this.player.getCurrentTime()}}),this.content.loop&&await this.player.seekTo(0);break}}))})},async updateCurrentTime(){const e=await this.player.getCurrentTime();this.setCurrentTimeValue(Math.ceil(e*10)/10)},playVideo(){this.player&&this.player.playVideo()},pauseVideo(){this.player&&this.player.pauseVideo()},seekTo(e){this.player&&this.player.seekTo(e)}},beforeUnmount(){clearInterval(this.timeUpdater)},async mounted(){await this.initPlayer()}},Er={ref:"videoPlayer"};function Lr(e,n,i,t,o,r){return x(),M("div",{class:de(["ww-video-youtube",{editing:r.isEditing}])},[K("div",Er,null,512)],2)}const Ar=Z(kr,[["render",Lr]]);ae.component("wwobject-1b1e2173-9b78-42cc-a8ee-a6167caea340",jn);ae.component("wwobject-3a7d6379-12d3-4387-98ff-b332bb492a63",Hn);ae.component("wwobject-59dca300-db78-42e4-a7a6-0cbf22d3cc82",Jn);ae.component("wwobject-6145eb60-0af8-4e52-bcc6-dc0f6743654e",nr);ae.component("wwobject-6d692ca2-6cdc-4805-aa0c-211102f335d0",cr);ae.component("wwobject-6f8796b1-8273-498d-95fc-7013b7c63214",hr);ae.component("wwobject-b783dc65-d528-4f74-8c14-e27c934c39b1",wr);ae.component("wwobject-cf63c911-3951-4ab7-ba8f-37e7fa30e09d",Ar);ae.component("wwobject-d7904e9d-fc9a-4d80-9e32-728e097879ad",Pn);ae.component("section-99586bd3-2b15-4d6b-a025-6a50d07ca845",Mn);
